# 클래스 컴포넌트

- 현재는 함수형 컴포넌트를 사용 하나 예전에는 클래스 컴포넌트로 사용 (리액트 16.8버전 전에)
- 클래스 컴포넌트에서는 함수형 훅을 사용x
- 클래스 컴포넌트의 state값은 항상 객체

  > 클래스 컴포넌트와 함수형 컴포넌트 비교

```jsx
// 함수형 컴포넌트
const Users = () => {
  const [showUsers, setShowUsers] = useState(true);

  const toggleUsersHandler = () => {
    setShowUsers((curState) => !curState);
  };

  return (
    <div className={classes.users}>
      <button onClick={toggleUsersHandler}>
        {showUsers ? "Hide" : "Show"} Users
      </button>
      {showUsers && usersList}
    </div>
  );
};

// 클래스형 컴포넌트
class Users extends Component {
  constructor() {
    // 클래스형 컴포넌트의 state값은 항상 객체
    super();
    this.state = {
      showUsers: true,
    };
  }
  toggleUsersHandler() {
    this.setState((curState) => {
      return { showUsers: !curState.showUsers };
    });
  }

  render() {
    const usersList = (
      <ul>
        {DUMMY_USERS.map((user) => (
          <User key={user.id} name={user.name} />
        ))}
      </ul>
    );

    return (
      <div className={classes.users}>
        <button onClick={this.toggleUsersHandler.bind(this)}>
          {this.state.showUsers ? "Hide" : "Show"} Users
        </button>
        {this.state.showUsers && usersList}
      </div>
    );
  }
}
```

## 컴포넌트 생명주기

- componentDidMount()

  - 컴포넌트가 렌더링이 다됬을때 한번 부름
  - useEffect(,[])와 동일

- componentDidUpdate()

  - 컴포넌트의 상태가 변경되고 컴포넌트가 리렌더링 될떄 호출된다
  - useEffect(,[somevalue]) 와동일

- componentWillUnmount()
  - effect 함수가 다시 실행되기전 호출 , 컴포넌트가 dom에서 제거되려 할때 호출
  - useEffect(()=>{return ()=>{...}} 클린업 함수와 동일

## ErrorBoundary

- componentDidCatch를 통해 에러가 발생시 알수있음
  - 클래스컴포넌트에서만 사용 가능한 장점
  - 에러를 컨트롤 할수있음
